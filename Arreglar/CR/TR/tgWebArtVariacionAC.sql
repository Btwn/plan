SET DATEFIRST 7
SET ANSI_NULLS OFF
SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED
SET LOCK_TIMEOUT -1
SET QUOTED_IDENTIFIER OFF
SET NOCOUNT ON
SET IMPLICIT_TRANSACTIONS OFF
GO
ALTER TRIGGER tgWebArtVariacionAC ON WebArtVariacion

FOR INSERT, UPDATE
AS BEGIN
DECLARE @Nombre varchar(100)
DECLARE crActualizar CURSOR local FOR
SELECT Nombre
FROM Inserted
OPEN crActualizar
FETCH NEXT FROM crActualizar INTO  @Nombre
WHILE @@FETCH_STATUS = 0
BEGIN
IF(ISNULL(@Nombre, '') = '')
RAISERROR('El campo Nombre no puede estar vacio', 16, -1)
FETCH NEXT FROM crActualizar INTO  @Nombre
END
CLOSE crActualizar
DEALLOCATE crActualizar
END

