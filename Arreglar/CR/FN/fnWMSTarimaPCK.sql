SET DATEFIRST 7
SET ANSI_NULLS OFF
SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED
SET LOCK_TIMEOUT -1
SET QUOTED_IDENTIFIER OFF
SET NOCOUNT ON
SET IMPLICIT_TRANSACTIONS OFF
GO
ALTER FUNCTION fnWMSTarimaPCK (@TarimaPCK varchar(20))
RETURNS VARCHAR (20)
AS BEGIN
DECLARE
@Tarima		varchar(20)
IF CHARINDEX('-', @TarimaPCK, 1) > 0
SELECT @Tarima = SUBSTRING(@TarimaPCK, 1, CHARINDEX('-', @TarimaPCK, 1)-1)
ELSE
SELECT @Tarima = @TarimaPCK
RETURN (@Tarima)
END

